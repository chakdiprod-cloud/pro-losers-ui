export async function GET(){const url=process.env.KV_REST_API_URL||process.env.UPSTASH_REDIS_REST_URL;const token=process.env.KV_REST_API_TOKEN||process.env.UPSTASH_REDIS_REST_TOKEN;if(!url||!token)return new Response(JSON.stringify({ok:false,error:"env_missing"}),{status:500});try{await fetch(`${url}/set/_pl_ping/ok`,{method:"POST",headers:{Authorization:`Bearer ${token}`}});const r=await fetch(`${url}/get/_pl_ping`,{headers:{Authorization:`Bearer ${token}`}});const data=await r.json();return new Response(JSON.stringify({ok:true,get:data}),{status:200,headers:{"Content-Type":"application/json"}})}catch{return new Response(JSON.stringify({ok:false,error:"kv_request_failed"}),{status:500,headers:{"Content-Type":"application/json"}})}}